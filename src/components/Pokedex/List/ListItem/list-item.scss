$poke-type-colors: (
  grass: green,
  poison: #1e401e,
  fire: red,
  water: #0098d4,
  electric: #ffff00,
  ground: #836539,
  flying: #f8f6e6,
  normal: lightgrey,
  fighting: brown,
  bug: #9adc00,
  ice: #afe3d6,
  rock: #2e2f31,
  dark: midnightblue,
  psychic: purple,
  ghost: #4a144a,
  fairy: lavender,
  dragon: #ee7722
);

@mixin accessible-text-color( $bg ) {
  $dark: #232323; $light: #e7e7e7;
  $color-brightness: round((red($bg) * 299) + (green($bg) * 587) + (blue($bg) * 114) / 1000);
  $light-color: round((red(#ffffff) * 299) + (green(#ffffff) * 587) + (blue(#ffffff) * 114) / 1000);

  @if abs($color-brightness) < (0.5*$light-color){
    color: $light;
  } @else {
    color: $dark ;
  }
}

.list__row {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  padding: 0.5em 1em;

  background-color: #3a3a3a;
  box-shadow: inset 0 0 40px 5px #a29d9b14;

  border: 1px solid rgba(151, 151, 151, 0.25);
  border-left: none;
  border-right: none;

  &, * { transition: 0.5s all }

  &__contents {
    display: flex;
    justify-content: space-between;
    height: 100%;
    padding: 0.2em;

    .poke-info { // left side
      display: flex;
      flex-direction: column;
      flex: 1 50%;

      font-family: var( --rubik );
      text-align: left;
      color: floralwhite;

      &__top {
        display: flex;
        flex: 0 1 auto;
        align-items: center;
        gap: 0.75em;

        span {
          &.name {
            font-family: var( --rubik );
            font-size: 2em;
            font-weight: 400;
          }

          &.id {
            font-size: 1.05em;
            font-family: var( --inter );
            font-style: italic;
            font-weight: 400;
            opacity: 0.75;
          }
        }
      }

      &__bottom {
        display: flex;
        flex: 1 0 auto;
        align-items: flex-end;

        > span.types {
          font-family: var( --rubik );
          text-transform: capitalize;
          padding-bottom: 0.25em;

          .type {
            font-weight: lighter;
            margin: 0 0.25em 0.5em 0;
            font-size: 0.65rem;

            @each $type, $col in $poke-type-colors {
              &.#{$type} {
                @include accessible-text-color( $col );
                background-color: $col;
              }
            }
          }
        }
      }
    }

    .poke-image { // right side
      display: flex;
      justify-content: flex-end;
      flex: 0 1 20%;
      height: 100%;

      > img:hover {
        animation: wiggle 500ms;
      }
    }
  }

  > div.loading-row {
    display: flex;
    justify-content: center;

    img.spinner {
      height: 65px;
      width: fit-content;
      animation: spin 750ms infinite cubic-bezier( 0.4, 0, 0.3, 0.85 );
    }
  }

  &:hover {
    background-color: #464646;
    .poke-image {
      margin-right: 0.5em;
      animation: 500ms grow;
    }
  }
}

//* animations
@keyframes wiggle {
  0%, 100% {
    transform: rotate( -5deg );
  } 20% {
    transform:scale( 1.05 )
  } 50% {
    transform: rotate( 5deg )
  } 100% {
    transform:scale( 1 )
  }
}

@keyframes grow {
  0%, 100% {
    transform:scale( 1 )
  } 50% {
    transform:scale( 1.05 )
  }
}

@keyframes spin {
  0% {
    transform:rotate( 0deg );
  } 100% {
    transform:rotate( 360deg );
  }
}